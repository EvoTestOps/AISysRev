# AI-automated screening PoC

## Introduction

This proof-of-concept (PoC) application demonstrates the current capabilities of AI-automated title-abstract screening of systematic reviews (SRs). This PoC is based on a conference paper "The Promise and Challenges of Using LLMs to Accelerate the Screening Process of Systematic Reviews" by Huotala et al.

## Getting started

First, clone the repository to your local computer.

### System and software requirements

Verify your computer meets the following requirements:

- Docker, with Compose plugin installed
- Enough RAM to run multiple containers
- Network connection
- Access to OpenRouter API

See https://docs.docker.com/desktop/ for Docker installation instructions. **Docker Desktop includes Docker Compose, Docker Engine and the Docker CLI.**

1. Run `docker info` to verify you have Docker installed
   - Docker `26.0.0` has been tested as working. For MacOS computers, Colima has been rigorously tested to work.
3. Run `docker compose version` to verify you have Compose installed.
   - Version `2.33.1` has been tested as working, newer versions should also work.
   - **Note:** Older versions of Compose use `docker-compose` as the compose command. We don't provide support for legacy Compose versions.
 

### Running the application

#### MacOS, Linux and Windows (WSL)

`make start-prod` should start the stack, assuming you have the requirements met.

#### Windows (non-WSL)

`./start-prod.bat` should start the stack for non-WSL Windows operating systems.

## Technology

### Front-end

TypeScript, React, Tailwind CSS, Vite, Wouter, Zod, Redux

### Back-end

Python, FastAPI, PostgreSQL, SQLAlchemy, Alembic

## Development requirements
- Node.js v22 LTS
- Python 3.9
- Docker, with Compose plugin installed

## Running in development mode

### MacOS, Linux and Windows (WSL)

`make start-dev`

### Windows (non-WSL)

`./start-dev.bat`

### Getting started with development

Open up the client: [http://localhost:3000](http://localhost:3000)

`/api` is proxied to the backend container, e.g. `http://localhost:3000/api/v1/health` will be proxied to `http://localhost:8080/api/v1/health`.

API docs: [http://localhost:3000/documentation](http://localhost:3000/docs)

Server: [http://localhost:8080](http://localhost:3000)

Adminer GUI: [http://localhost:8081/?pgsql=postgres&username=your_username&db=your_database_dev&ns=][http://localhost:8081/?pgsql=postgres&username=your_username&db=your_database_dev&ns=] password: **your_password**

## Mock data

Mock data is located in `data/mock` -folder.

## Tests

Run in [client/](./client/) `npm test` for e2e tests

Run in root `make backend-test` (`./backend-test.bat` for Windows non-WSL) for backend tests

Run in root `make backend-test-html` (`./backend-test-html.bat` for Windows non-WSL) for backend tests and HTML coverage report

## Makefile Commands

The project includes a `Makefile` for common development and database operations:

### Development

| Command           | Description                                                                   |
| ----------------- | ----------------------------------------------------------------------------- |
| `make start-dev`  | Start dev containers with live reloading and build on startup (default setup) |
| `make start-test` | Start test containers and rebuild images (isolated test environment)          |
| `make start-prod` | Start production container and rebuild images                                 |

> **Note:** Run all commands from the project root.  
> Containers are isolated by environment using the Docker Compose `-p` flag.

### Database Migrations (Alembic)

| Command                     | Description                                                           |
| --------------------------- | --------------------------------------------------------------------- |
| `make m-create m="Message"` | Create a new migration with an autogenerated diff (replace `Message`) |
| `make m-up`                 | Apply all pending migrations (upgrade to latest)                      |
| `make m-hist`               | Show the full migration history with details                          |
| `make m-current`            | Display the current migration version in the database                 |

## Supported LLMs

Currently, we support models provided via Openrouter.

## License

CC-BY-ND 4.0

## References

Huotala, A., Kuutila, M., Ralph, P., & Mäntylä, M. (2024). The promise and challenges of using llms to accelerate the screening process of systematic reviews. Proceedings of the 28th International Conference on Evaluation and Assessment in Software Engineering, 262–271. [https://doi.org/10.1145/3661167.3661172](https://doi.org/10.1145/3661167.3661172)
